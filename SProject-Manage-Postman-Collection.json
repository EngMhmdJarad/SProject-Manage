{
  "info": {
    "_postman_id": "sproject-manage-collection",
    "name": "SProject Manage API Collection",
    "description": "Complete API collection for SProject Management System",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "// If environment variable 'authCookie' is set, attach it as Cookie header",
          "const authCookie = pm.environment.get('authCookie');",
          "if (authCookie) {",
          "  // Upsert Cookie header so protected endpoints receive the session cookie",
          "  try { pm.request.headers.upsert({ key: 'Cookie', value: authCookie }); } catch (e) { pm.request.headers.add({ key: 'Cookie', value: authCookie }); }",
          "}"
        ]
      }
    }
  ],
  "item": [
    {
      "name": "Authentication",
      "item": [
        {
          "name": "Sign Up (Create User)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstname\": \"Ahmed\",\n  \"lastname\": \"Hassan\",\n  \"userId\": \"STU001\",\n  \"email\": \"ahmed@university.edu\",\n  \"password\": \"Password123!\",\n  \"confirmPassword\": \"Password123!\",\n  \"phone\": \"+961123456789\",\n  \"office\": \"Room 101\",\n  \"programme\": \"Computer Science\",\n  \"role\": \"STUDENT\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user"]
            }
          }
        },
        {
          "name": "Get Auth Token",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/auth/token",
              "host": ["{{baseUrl}}"],
              "path": ["api", "auth", "token"]
            }
          }
        }
      ]
    },
    {
      "name": "Users Management",
      "item": [
        {
          "name": "Get All Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/user",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user"]
            }
          }
        },
        {
          "name": "Create New User",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"firstname\": \"Maha\",\n  \"lastname\": \"Ibrahim\",\n  \"userId\": \"SUP001\",\n  \"email\": \"maha@university.edu\",\n  \"password\": \"SecurePass123!\",\n  \"confirmPassword\": \"SecurePass123!\",\n  \"phone\": \"+961987654321\",\n  \"office\": \"Room 205\",\n  \"role\": \"SUPERVISOR\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/user",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user"]
            }
          }
        },
        {
          "name": "Get User Role",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/user/role",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "role"]
            }
          }
        },
        {
          "name": "Get All Supervisors",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/user/supervisor",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "supervisor"]
            }
          }
        },
        {
          "name": "Get Supervisor by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/user/supervisor/{{supervisorId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "user", "supervisor", "{{supervisorId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Projects",
      "item": [
        {
          "name": "Create Project",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"projectName\": \"AI-Based Chat System\",\n  \"projectDescription\": \"A machine learning chatbot for customer support\",\n  \"supervisorId\": \"supervisor-id-here\",\n  \"startDate\": \"2025-01-01T00:00:00Z\",\n  \"endDate\": \"2025-06-30T00:00:00Z\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/project",
              "host": ["{{baseUrl}}"],
              "path": ["api", "project"]
            }
          }
        },
        {
          "name": "Get All Projects",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/project",
              "host": ["{{baseUrl}}"],
              "path": ["api", "project"]
            }
          }
        },
        {
          "name": "Get Project by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/project/{{projectId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "project", "{{projectId}}"]
            }
          }
        },
        {
          "name": "Update Project",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"projectName\": \"Advanced AI Chat System\",\n  \"projectDescription\": \"An enhanced ML chatbot with NLP capabilities\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/project/{{projectId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "project", "{{projectId}}"]
            }
          }
        },
        {
          "name": "Get Project Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/project/status/{{projectId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "project", "status", "{{projectId}}"]
            }
          }
        },
        {
          "name": "Add Comment to Project",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"comment\": \"Great progress on the project! Please focus on the NLP module next.\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/project/{{projectId}}/comment",
              "host": ["{{baseUrl}}"],
              "path": ["api", "project", "{{projectId}}", "comment"]
            }
          }
        }
      ]
    },
    {
      "name": "Submissions",
      "item": [
        {
          "name": "Create Submission",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"deadlineId\": 1,\n  \"description\": \"Phase 1 - Requirements and System Design\",\n  \"fileURL\": \"/uploads/1234567890-proposal.pdf\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/submission",
              "host": ["{{baseUrl}}"],
              "path": ["api", "submission"]
            }
          }
        },
        {
          "name": "Get All Submissions",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/submission",
              "host": ["{{baseUrl}}"],
              "path": ["api", "submission"]
            }
          }
        },
        {
          "name": "Get Submission Types (Deadlines)",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/submission/type",
              "host": ["{{baseUrl}}"],
              "path": ["api", "submission", "type"]
            }
          }
        },
        {
          "name": "Delete Submission",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/submission/{{submissionId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "submission", "{{submissionId}}"]
            }
          }
        },
        {
          "name": "Add Feedback to Submission",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Excellent Documentation\",\n  \"description\": \"Your technical documentation is well-structured and comprehensive. Good use of diagrams!\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/submission/{{submissionId}}/feedback",
              "host": ["{{baseUrl}}"],
              "path": ["api", "submission", "{{submissionId}}", "feedback"]
            }
          }
        }
      ]
    },
    {
      "name": "Deadlines",
      "item": [
        {
          "name": "Create Deadline",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Proposal Submission\",\n  \"description\": \"Submit project proposal including objectives, scope, and timeline\",\n  \"deadlineDate\": \"2025-02-28T23:59:59Z\",\n  \"isSubmittable\": true\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/deadline",
              "host": ["{{baseUrl}}"],
              "path": ["api", "deadline"]
            }
          }
        },
        {
          "name": "Get All Deadlines",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/deadline",
              "host": ["{{baseUrl}}"],
              "path": ["api", "deadline"]
            }
          }
        },
        {
          "name": "Get Deadline by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/deadline/{{deadlineId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "deadline", "{{deadlineId}}"]
            }
          }
        },
        {
          "name": "Update Deadline",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated Proposal Deadline\",\n  \"description\": \"Extended deadline - submit detailed project proposal\",\n  \"deadlineDate\": \"2025-03-15T23:59:59Z\",\n  \"isSubmittable\": true\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/deadline/{{deadlineId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "deadline", "{{deadlineId}}"]
            }
          }
        },
        {
          "name": "Delete Deadline",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/deadline/{{deadlineId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "deadline", "{{deadlineId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "Announcements",
      "item": [
        {
          "name": "Create Announcement",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Mid-Year Project Review\",\n  \"description\": \"All students are required to submit their mid-year project reviews by March 15. Please ensure all documentation is complete.\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/announcement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "announcement"]
            }
          }
        },
        {
          "name": "Get All Announcements",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/announcement",
              "host": ["{{baseUrl}}"],
              "path": ["api", "announcement"]
            }
          }
        },
        {
          "name": "Get Announcement by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/announcement/{{announcementId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "announcement", "{{announcementId}}"]
            }
          }
        },
        {
          "name": "Update Announcement",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated: Mid-Year Project Review\",\n  \"description\": \"Deadline extended to March 20 due to system maintenance. All students must submit by this date.\"\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/announcement/{{announcementId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "announcement", "{{announcementId}}"]
            }
          }
        },
        {
          "name": "Delete Announcement",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/announcement/{{announcementId}}",
              "host": ["{{baseUrl}}"],
              "path": ["api", "announcement", "{{announcementId}}"]
            }
          }
        }
      ]
    },
    {
      "name": "File Upload",
      "item": [
        {
          "name": "Upload File",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "formdata",
              "formdata": [
                {
                  "key": "file",
                  "type": "file",
                  "src": "/path/to/your/file.pdf"
                }
              ]
            },
            "url": {
              "raw": "{{baseUrl}}/api/upload",
              "host": ["{{baseUrl}}"],
              "path": ["api", "upload"]
            }
          }
        }
      ]
    },
    {
      "name": "Settings",
      "item": [
        {
          "name": "Get Registration Status",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/settings/registration",
              "host": ["{{baseUrl}}"],
              "path": ["api", "settings", "registration"]
            }
          }
        },
        {
          "name": "Update Registration Status",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"registrationOpen\": true\n}\n"
            },
            "url": {
              "raw": "{{baseUrl}}/api/settings/registration",
              "host": ["{{baseUrl}}"],
              "path": ["api", "settings", "registration"]
            }
          }
        }
      ]
    },
    {
      "name": "Admin Profile",
      "item": [
        {
          "name": "Get Admin Profile",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/adminProfile",
              "host": ["{{baseUrl}}"],
              "path": ["api", "adminProfile"]
            }
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "projectId",
      "value": "project-id-here",
      "type": "string"
    },
    {
      "key": "submissionId",
      "value": "submission-id-here",
      "type": "string"
    },
    {
      "key": "deadlineId",
      "value": "deadline-id-here",
      "type": "string"
    },
    {
      "key": "announcementId",
      "value": "announcement-id-here",
      "type": "string"
    },
    {
      "key": "supervisorId",
      "value": "supervisor-id-here",
      "type": "string"
    }
  ]
}
